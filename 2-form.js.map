{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n    form: document.querySelector('.feedback-form'),\n    emailInput: document.querySelector('.js-email-input'),\n    messageInput: document.querySelector('.js-message-input'),\n}\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {\n    email: \"\",\n    message: \"\"\n};\n\nrefs.form.addEventListener('input', onFormInput);\nrefs.form.addEventListener('submit', onFormSubmit);\n\n\nfunction onFormInput(event) { \n    const email = event.currentTarget.elements.email.value;\n    const message = event.currentTarget.elements.message.value;\n\n    formData.email = email;\n    formData.message = message;\n\n    saveToLS(STORAGE_KEY, formData);\n\n}\n\nfunction onFormSubmit(event) {\n    event.preventDefault();\n\n    if (formData.email === \"\" || formData.message === \"\") {\n        return alert(\"Fill please all fields\");\n    }\n\n    console.log(\"Submitted form data:\", formData);\n    event.currentTarget.reset();\n    localStorage.removeItem(STORAGE_KEY);\n\n    formData.email = \"\";\n    formData.message = \"\";    \n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const lsData = getFromLS(STORAGE_KEY, {});\n  try {\n    Object.assign(formData, lsData);\n    refs.form.elements.email.value = lsData.email;\n    refs.form.elements.message.value = lsData.message;\n  } catch {}\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction getFromLS(key, defaultValue) {\n  const jsonData = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(jsonData);\n    return data;\n  } catch {\n    return defaultValue || jsonData;\n  }\n}\n\n"],"names":["refs","STORAGE_KEY","formData","onFormInput","onFormSubmit","event","email","message","saveToLS","lsData","getFromLS","key","value","jsonData","defaultValue"],"mappings":"wFAAA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,EAC7C,WAAY,SAAS,cAAc,iBAAiB,EACpD,aAAc,SAAS,cAAc,mBAAmB,CAC5D,EAEMC,EAAc,sBAEdC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEAF,EAAK,KAAK,iBAAiB,QAASG,CAAW,EAC/CH,EAAK,KAAK,iBAAiB,SAAUI,CAAY,EAGjD,SAASD,EAAYE,EAAO,CACxB,MAAMC,EAAQD,EAAM,cAAc,SAAS,MAAM,MAC3CE,EAAUF,EAAM,cAAc,SAAS,QAAQ,MAErDH,EAAS,MAAQI,EACjBJ,EAAS,QAAUK,EAEnBC,EAASP,EAAaC,CAAQ,CAElC,CAEA,SAASE,EAAaC,EAAO,CAGzB,GAFAA,EAAM,eAAc,EAEhBH,EAAS,QAAU,IAAMA,EAAS,UAAY,GAC9C,OAAO,MAAM,wBAAwB,EAGzC,QAAQ,IAAI,uBAAwBA,CAAQ,EAC5CG,EAAM,cAAc,QACpB,aAAa,WAAWJ,CAAW,EAEnCC,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACvB,CAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMO,EAASC,EAAUT,EAAa,CAAE,CAAA,EAC1C,GAAI,CACF,OAAO,OAAOC,EAAUO,CAAM,EAC9BT,EAAK,KAAK,SAAS,MAAM,MAAQS,EAAO,MACxCT,EAAK,KAAK,SAAS,QAAQ,MAAQS,EAAO,OAC3C,MAAO,CAAE,CACZ,CAAC,EAED,SAASD,EAASG,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASH,EAAUC,EAAKG,EAAc,CACpC,MAAMD,EAAW,aAAa,QAAQF,CAAG,EACzC,GAAI,CAEF,OADa,KAAK,MAAME,CAAQ,CAEpC,MAAU,CACN,OAAOC,GAAgBD,CACxB,CACH"}